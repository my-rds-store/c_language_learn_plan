####################
第四章 并发与同步   
####################

4.1 并发  
==========

4.2 同步  
==========

.. literalinclude:: ../../code/4/2/locker/typedef.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/2/locker/locker.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/2/locker/locker_pthread.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/2/locker/locker_pthread.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/2/locker/dlist.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/2/locker/dlist.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/2/locker/Makefile
    :language: Makefile
    :encoding: utf-8

4.3 嵌套锁与装饰模式  
=======================

.. literalinclude:: ../../code/4/3/locker_nest/typedef.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/3/locker_nest/locker.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/3/locker_nest/locker_pthread.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/3/locker_nest/locker_pthread.c
    :language: c
    :encoding: utf-8
.. literalinclude:: ../../code/4/3/locker_nest/locker_nest.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/3/locker_nest/locker_nest.c
    :language: c
    :encoding: utf-8
 
.. literalinclude:: ../../code/4/3/locker_nest/dlist.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/3/locker_nest/dlist.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/3/locker_nest/Makefile
    :language: Makefile
    :encoding: utf-8

4.4 读写锁  
=============

.. literalinclude:: ../../code/4/4/rw_locker/typedef.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/locker.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/locker_pthread.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/locker_pthread.c
    :language: c
    :encoding: utf-8
.. literalinclude:: ../../code/4/4/rw_locker/locker_nest.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/locker_nest.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/rw_locker.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/rw_locker.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/dlist.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/dlist.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/4/rw_locker/Makefile
    :language: Makefile
    :encoding: utf-8

4.5 无锁数据结构  
====================

.. literalinclude:: ../../code/4/5/lock_free/typedef.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/5/lock_free/fifo_ring.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/5/lock_free/dlist.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/5/lock_free/swmr_dlist.c
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/5/lock_free/iatomic.h
    :language: c
    :encoding: utf-8

.. literalinclude:: ../../code/4/5/lock_free/atomic.c
    :language: c
    :encoding: utf-8






.. literalinclude:: ../../code/4/5/lock_free/Makefile
    :language: Makefile
    :encoding: utf-8




